<template>
  <div class="sizing-popup shadow-lg">
    <div class="header text-center flex flex-row items-center border-b px-2 py-3">
      <div class=" w-1/6">
        <svg class="hicon cursor-pointer" viewBox="0 0 50 47" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M29.6171 0.296358C29.4876 0.42583 29.3784 0.598056 29.3743 0.678976C29.3702 0.759896 29.3582 2.27539 29.3475 4.04669C29.3229 8.10765 29.119 10.2763 28.6398 11.5657C27.1006 15.7081 16.0276 22.6007 9.16638 23.6875C7.2214 23.9955 5.68031 24.1426 2.4312 24.3307C-0.666702 24.5102 -0.852697 29.5217 2.15341 31.8109C3.14112 32.563 4.50588 33.1203 5.87089 33.3283C6.76052 33.464 43.4041 33.437 44.1165 33.3C45.8122 32.9742 47.5854 31.6147 48.347 30.0567C49.6543 27.3823 49.3055 24.5008 47.0557 19.3852C46.4878 18.0941 46.218 17.3533 45.9752 16.4173C45.4612 14.437 45.4641 14.4836 45.4122 7.34797C45.3602 0.256744 45.3774 0.498054 44.91 0.256261C44.4703 0.0289606 43.9305 0.179206 43.7111 0.590085C43.5486 0.894198 43.5396 12.5732 43.701 13.9503C43.9515 16.0904 44.3889 17.7335 45.2218 19.664C46.2018 21.9355 46.3871 22.4048 46.6965 23.3983C47.9883 27.5463 47.1062 30.3543 44.1771 31.4164L43.593 31.6282L24.752 31.6055L5.91099 31.5828L5.22667 31.3741C2.76019 30.6219 1.35581 28.6453 1.92901 26.7325C2.10075 26.159 2.16283 26.1346 3.63485 26.0607C6.34506 25.9247 9.23594 25.5692 11.049 25.1486C13.6793 24.5387 18.4789 22.4073 21.5717 20.4758C26.8146 17.2018 29.8864 14.124 30.536 11.4944C31.0121 9.56783 31.335 3.86601 31.1166 1.24517C31.0227 0.118818 30.2707 -0.357039 29.6171 0.296358ZM39.6881 14.1278C39.1079 14.339 38.9869 14.9109 39.3304 15.8204C39.6483 16.6627 39.8782 18.1572 39.8166 18.9825C39.6123 21.7287 37.9214 22.6372 33.7273 22.2539C32.8309 22.172 32.5 22.3326 32.3932 22.9015C32.2131 23.8629 33.2066 24.2071 35.888 24.1119C40.1608 23.9602 42.156 21.5084 41.5034 17.2112C41.1447 14.8503 40.5374 13.8187 39.6881 14.1278Z"
                fill="black"/>
          <path
            d="M2.50303 39.9577C2.20613 40.2546 2.20613 40.7359 2.50303 41.0328L7.34123 45.871C7.63813 46.1679 8.1195 46.1679 8.41639 45.871C8.71329 45.5741 8.71329 45.0928 8.41639 44.7959L4.11576 40.4952L8.41639 36.1946C8.71329 35.8977 8.71329 35.4163 8.41639 35.1195C8.1195 34.8226 7.63813 34.8226 7.34123 35.1195L2.50303 39.9577ZM24.3276 39.735H3.04061V41.2555H24.3276V39.735Z"
            fill="black"/>
          <path
            d="M46.1522 41.0328C46.4491 40.7359 46.4491 40.2546 46.1522 39.9577L41.314 35.1195C41.0171 34.8226 40.5358 34.8226 40.2389 35.1195C39.942 35.4163 39.942 35.8977 40.2389 36.1946L44.5395 40.4952L40.2389 44.7959C39.942 45.0928 39.942 45.5741 40.2389 45.871C40.5358 46.1679 41.0171 46.1679 41.314 45.871L46.1522 41.0328ZM24.3276 41.2555H45.6147V39.735H24.3276V41.2555Z"
            fill="black"/>
        </svg>
      </div>
      <div class="flex-grow text-center  h-full">Sizes (US)</div>
      <div class="text-2xl text-right w-1/6 cursor-pointer" @click="close">&times;</div>
    </div>
    <single-product-size-chooser-grid :variations="variations" :with-price="withPrice" @onPick="setPicked"/>
  </div>
</template>

<script>
  export default {
    name: 'SingleProductSizeChooserPopup',
    props: {
      withPrice: {
        default: true,
        required: false
      },
      variations: {
        default: {},
        required: true
      }
    },
    methods: {
      close() {
        this.$emit('close')
      },
      setPicked(payload) {
        this.$emit('onPick', payload)
        console.log(payload)
        this.close();
      }
    }
  }
</script>

<style scoped lang="scss">
  .sizing-popup {
    position: relative;
    background: #FFFFFF;
    width: 370px;
    @apply bg-white left-0 border border-gray-300;
    .header {
      font-style: normal;
      justify-content: space-evenly;
      font-weight: 500;
      font-size: 14px;
      line-height: 22px;
      color: #000000;
    }
  }
</style>
